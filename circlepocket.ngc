(Circular Spiral Pocket)
o<circlepocket> sub
#<tooldiam>= #1     (=3.000   tooldiameter)
#<diam>= #2         (=30.000  Diameter)
#<xpos>= #3         (=15.000  centerX)
#<ypos>= #4         (=15.000  centerY)
#<zend>= #5         (=-5.000  Final Depth)
#<zsafe>= #6        (=2.000   safeZ)
#<step>= #7         (=1.35    stepover R)
#<doc>= #8          (=-2.000  stepover Z)
#<feedz>= #9        (=100.00 feedrateZ)
#<feed>= #10        (=200.00 feedrateXY)

(original var definitions)
(#<tooldiam>=3.000    tooldiameter)
(#<diam>=30.000   Diameter)
(#<xpos>=15.000   centerX)
(#<ypos>=15.000   centerY)
(#<zend>=-5.000   Final Depth)
(#<zsafe>=2.000    safeZ)
(#<step>=1.35     stepover R)
(#<doc>=-2.000   stepover Z)
(#<feedz>=100.00  feedrateZ)
(#<feed>=200.00  feedrateXY)
(calculate How many times into while)
#<loop>=FIX[[[#<diam>-#<tooldiam>]/#<step>]/2]

#<rad> = [#<diam>/2]
#<toolrad> = [#<tooldiam>/2]

G0 X#<xpos> Y#<ypos>
G0 Z#<zsafe>
G1 Z0 F#<feedz> (Move to Zero Z to start increment Z Cycle)
O95 while [#<zend> lt 0]
    O97 If [#<zend> lt #<doc>] 
     G1 G91 Z#<doc> 
    O97 else
     G1 G91 Z#<zend>
     O97 endif
    #<zend>=[#<zend>-#<doc>]
    #<somevar2>=#<step>
    #<somevar3>=1.0
    #<somevar1>=1
    G1 G90 X[#<xpos>+#<somevar2>] F#<feed>
    O10 while [#<somevar1> lt #<loop>]
        G3 X[#<xpos>-[#<somevar1>*#<step>]] I-[[#<somevar3>*#<step>]]
        #<somevar3>=[#<somevar3>+0.5]
        #<somevar1>=[#<somevar1>+1]
        G3 X[#<xpos>+[#<somevar1>*#<step>]] I[[#31*#<step>]]
        #31=[#31+0.5]
        O10 endwhile
    G3 X[#<xpos>-#<rad>+#<toolrad>] Y#<ypos> I-[[[#<xpos>+[#<somevar1>*#<step>]]-[#<xpos>-#<rad>+#<toolrad>]]/2.0]
    G3 I[#<rad>-#<toolrad>]
    G1 G90 X#<xpos> Y#<ypos>
    O95 endwhile
G0 G90 Z#<zsafe>
o<circlepocket> endsub